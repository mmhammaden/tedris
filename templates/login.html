{% extends "base.html" %}

{% block title %}تسجيل الدخول - منصة تدريس{% endblock %}

{% block content %}
<div x-data="loginPage()" class="min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
        <div class="p-6 border-b">
            <div class="flex justify-between items-center">
                <h2 class="text-2xl font-bold" x-text="text[language].title"></h2>
                <div class="flex gap-2">
                    <button @click="language = 'ar'" :class="language === 'ar' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'" class="px-3 py-1 rounded text-sm">العربية</button>
                    <button @click="language = 'fr'" :class="language === 'fr' ? 'bg-blue-600 text-white' : 'bg-gray-200 text-gray-700'" class="px-3 py-1 rounded text-sm">Français</button>
                </div>
            </div>
            <p class="text-gray-600 mt-2" x-text="text[language].subtitle"></p>
        </div>
        
        <form method="POST" class="p-6 space-y-4">
            <div>
                <label class="block text-sm font-medium mb-2" x-text="text[language].phone"></label>
                <input type="tel" name="phone" required maxlength="8" pattern="[0-9]{8}" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-center"
                       :placeholder="text[language].phonePlaceholder">
            </div>
            
            <div>
                <label class="block text-sm font-medium mb-2" x-text="text[language].password"></label>
                <input type="password" name="password" required minlength="6" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                       :placeholder="text[language].passwordPlaceholder">
            </div>

            <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded-md font-medium hover:bg-blue-700 transition-colors" x-text="text[language].login"></button>
        </form>

        <div class="p-6 border-t text-center space-y-2">
            <p class="text-sm text-gray-600">
                <span x-text="text[language].noAccount"></span>
                <a href="{{ url_for('register') }}" class="text-blue-600 hover:underline" x-text="text[language].register"></a>
            </p>
            <a href="{{ url_for('index') }}" class="text-sm text-gray-500 hover:underline block" x-text="text[language].backToHome"></a>
        </div>
    </div>
</div>

<script>
function loginPage() {
    return {
        language: 'ar',
        text: {
            ar: {
                title: 'تسجيل الدخول',
                subtitle: 'أدخل بياناتك للوصول إلى حسابك',
                phone: 'رقم الهاتف',
                phonePlaceholder: 'أدخل رقم الهاتف (8 أرقام)',
                password: 'كلمة المرور',
                passwordPlaceholder: 'أدخل كلمة المرور',
                login: 'تسجيل الدخول',
                noAccount: 'ليس لديك حساب؟',
                register: 'إنشاء حساب جديد',
                backToHome: 'العودة للرئيسية'
            },
            fr: {
                title: 'Connexion',
                subtitle: 'Entrez vos informations pour accéder à votre compte',
                phone: 'Numéro de téléphone',
                phonePlaceholder: 'Entrez le numéro de téléphone (8 chiffres)',
                password: 'Mot de passe',
                passwordPlaceholder: 'Entrez le mot de passe',
                login: 'Se connecter',
                noAccount: "Vous n'avez pas de compte ?",
                register: 'Créer un nouveau compte',
                backToHome: "Retour à l'accueil"
            }
        }
    }
}
</script>
{% endblock %}
